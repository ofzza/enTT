{"version":3,"sources":["prototype/watchers.js"],"names":["Watchers","entity","all","byProperty","childWatchers","index","suppressed","callback","properties","watcherCancelFunctions","map","isArray","uniq","propertyName","forEach","fn","err","triggerChangeEvent","e","WatcherEvent","property","innerEvent","callbacks","entityValue","watch","entityValues","filter","value","cancelFunctions"],"mappings":"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","file":"prototype/watchers.js","sourceRoot":"../../src"}